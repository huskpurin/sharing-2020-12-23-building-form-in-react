<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.29.1"/><title data-react-helmet="true">Building Form in React</title><link as="script" rel="preload" href="/sharing-2020-12-23-building-form-in-react/webpack-runtime-79cdd34c6f3b0d87e9ce.js"/><link as="script" rel="preload" href="/sharing-2020-12-23-building-form-in-react/framework-4c5c30547127aacc30ed.js"/><link as="script" rel="preload" href="/sharing-2020-12-23-building-form-in-react/app-77466015685afe85bf1c.js"/><link as="script" rel="preload" href="/sharing-2020-12-23-building-form-in-react/component---node-modules-gatsby-theme-mdx-deck-src-templates-deck-js-d0297c119022a57813fd.js"/><link as="fetch" rel="preload" href="/sharing-2020-12-23-building-form-in-react/page-data/print/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/sharing-2020-12-23-building-form-in-react/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.body.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion-css="c4f9ew">body{color:var(--theme-ui-colors-text,#000);background-color:var(--theme-ui-colors-background,#fff);}</style><style data-emotion-css="0"></style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="1sy9iaq">body{overflow:hidden;}</style><style data-emotion-css="bdfrlc">.css-bdfrlc{width:100vw;height:100vh;}.css-bdfrlc *{box-sizing:border-box;}</style><div class="css-bdfrlc"><div style="outline:none;height:100%" tabindex="-1"><style data-emotion-css="137he8i">.css-137he8i{box-sizing:border-box;width:100%;height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;overflow:hidden;position:relative;color:#000;background-color:#fff;font-family:system-ui,sans-serif;font-size:20px;}@media screen and (min-width:40em){.css-137he8i{font-size:24px;}}@media screen and (min-width:52em){.css-137he8i{font-size:32px;}}@media screen and (min-width:64em){.css-137he8i{font-size:48px;}}</style><div class="css-137he8i"><style data-emotion-css="x6kkz0">.css-x6kkz0{font-family:inherit;line-height:1.125;font-weight:700;font-family:inherit;line-height:1.125;font-weight:700;}</style><h1 class="css-x6kkz0">Building Form in React</h1></div><div class="css-137he8i"><style data-emotion-css="1x9grdp">.css-1x9grdp{max-width:100%;height:auto;object-fit:cover;max-width:100%;height:auto;object-fit:cover;}</style><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--PR_A1FL4--/c_imagga_scale,f_auto,fl_progressive,h_900,q_auto,w_1600/https://dev-to-uploads.s3.amazonaws.com/i/tqjxqvub0go6bpwhbwdg.png" class="css-1x9grdp"/></div><div class="css-137he8i"><img src="https://foundkit.com/wp-content/uploads/2019/05/Soundcloud-1-1024x594.png" class="css-1x9grdp"/></div><div class="css-137he8i"><h2 class="css-x6kkz0">Form Requirements</h2><style data-emotion-css="1l6m1m6">.css-1l6m1m6{margin:0;margin:0;}</style><ul class="css-1l6m1m6"><li class="css-0">show input value</li><li class="css-0">update input value</li><li class="css-0">validate input value</li><li class="css-0">show validation results</li><li class="css-0">submit input valuse</li><li class="css-0">show the submission results</li></ul></div><div class="css-137he8i"><h2 class="css-x6kkz0">Encapsulation the Logics</h2><ul class="css-1l6m1m6"><li class="css-0">input values</li><li class="css-0">validation</li></ul></div><div class="css-137he8i"><h2 class="css-x6kkz0">State Management</h2><p class="css-0">global state vs component state</p></div><div class="css-137he8i"><style data-emotion-css="1ukrlb9">.css-1ukrlb9{font-weight:700;font-weight:700;}</style><blockquote class="css-1ukrlb9"><p class="css-0">form state is inherently ephemeral and local -- Dan Abramov</p></blockquote></div><div class="css-137he8i"><h3 class="css-x6kkz0">form libs always export get/set state mathod</h3></div><div class="css-137he8i"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="cb1xcl">.css-cb1xcl{color:#000;background-color:#fff;}.css-cb1xcl .token-comment,.css-cb1xcl .token-cdata,.css-cb1xcl .token-doctype{font-style:italic;}.css-cb1xcl .token-builtin,.css-cb1xcl .token-changed,.css-cb1xcl .token-keyword,.css-cb1xcl .token-punctuation,.css-cb1xcl .token-operator,.css-cb1xcl .token-tag,.css-cb1xcl .token-deleted,.css-cb1xcl .token-string,.css-cb1xcl .token-attr-value,.css-cb1xcl .token-char,.css-cb1xcl .token-number,.css-cb1xcl .token-inserted{color:#07c;}.css-cb1xcl .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><pre class="cs-content css-cb1xcl" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="lg3ou2">.css-lg3ou2{color:#000;background-color:#fff;}</style><code class="cs-scaled-content css-lg3ou2" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// MyInput.js</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> withFormsy </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;formsy-react&#x27;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-class-name">MyInput</span><span class="token-plain"> </span><span class="token-keyword">extends</span><span class="token-plain"> </span><span class="token-class-name">React</span><span class="token-punctuation">.</span><span class="token-class-name">Component</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">  </span><span class="token-function-variable">changeValue</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-parameter">event</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">    </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">props</span><span class="token-punctuation">.</span><span class="token-function">setValue</span><span class="token-punctuation">(</span><span class="token-plain">event</span><span class="token-punctuation">.</span><span class="token-plain">currentTarget</span><span class="token-punctuation">.</span><span class="token-plain">value</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">  </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">  </span><span class="token-function">render</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">    </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">      </span><span class="token-punctuation">&lt;</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">        </span><span class="token-punctuation">&lt;</span><span class="token-tag">input</span><span class="token-tag"> </span><span class="token-attr-name">onChange</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-script">changeValue</span><span class="token-punctuation">}</span><span class="token-tag"> </span><span class="token-attr-name">type</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">text</span><span class="token-punctuation">&quot;</span><span class="token-tag"> </span><span class="token-attr-name">value</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-script">props</span><span class="token-punctuation">.</span><span class="token-script">value</span><span class="token-punctuation">}</span><span class="token-tag"> </span><span class="token-punctuation">/&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">        </span><span class="token-punctuation">&lt;</span><span class="token-tag">span</span><span class="token-punctuation">&gt;</span><span class="token-punctuation">{</span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">props</span><span class="token-punctuation">.</span><span class="token-plain">errorMessage</span><span class="token-punctuation">}</span><span class="token-punctuation">&lt;/</span><span class="token-tag">span</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">      </span><span class="token-punctuation">&lt;/</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">    </span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">  </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">default</span><span class="token-plain"> </span><span class="token-function">withFormsy</span><span class="token-punctuation">(</span><span class="token-plain">MyInput</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-137he8i"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-cb1xcl" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-lg3ou2" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// App.js</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-keyword">import</span><span class="token-plain"> Formsy </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;formsy-react&#x27;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-keyword">import</span><span class="token-plain"> MyInput </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;./MyInput&#x27;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">default</span><span class="token-plain"> </span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-class-name">App</span><span class="token-plain"> </span><span class="token-keyword">extends</span><span class="token-plain"> </span><span class="token-class-name">React</span><span class="token-punctuation">.</span><span class="token-class-name">Component</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">  </span><span class="token-function-variable">submit</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-parameter">model</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">    </span><span class="token-function">fetch</span><span class="token-punctuation">(</span><span class="token-string">&#x27;http://example.com/&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">      method</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;post&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">      body</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-constant">JSON</span><span class="token-punctuation">.</span><span class="token-function">stringify</span><span class="token-punctuation">(</span><span class="token-plain">model</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">  </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">  </span><span class="token-function">render</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">    </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">      </span><span class="token-punctuation">&lt;</span><span class="token-class-name">Formsy</span><span class="token-tag"> </span><span class="token-attr-name">onSubmit</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-script">submit</span><span class="token-punctuation">}</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">        </span><span class="token-punctuation">&lt;</span><span class="token-class-name">MyInput</span><span class="token-tag"> </span><span class="token-attr-name">name</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">email</span><span class="token-punctuation">&quot;</span><span class="token-tag"> </span><span class="token-attr-name">validations</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">isEmail</span><span class="token-punctuation">&quot;</span><span class="token-tag"> </span><span class="token-attr-name">validationError</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">This is not a valid email</span><span class="token-punctuation">&quot;</span><span class="token-tag"> </span><span class="token-attr-name">required</span><span class="token-tag"> </span><span class="token-punctuation">/&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">        </span><span class="token-punctuation">&lt;</span><span class="token-tag">button</span><span class="token-tag"> </span><span class="token-attr-name">type</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">submit</span><span class="token-punctuation">&quot;</span><span class="token-punctuation">&gt;</span><span class="token-plain">Submit</span><span class="token-punctuation">&lt;/</span><span class="token-tag">button</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">      </span><span class="token-punctuation">&lt;/</span><span class="token-class-name">Formsy</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">    </span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">  </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-137he8i"><h3 class="css-x6kkz0">how does formsy save form state?</h3></div><div class="css-137he8i"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-cb1xcl" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-lg3ou2" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-punctuation">&lt;</span><span class="token-class-name">Formsy</span><span class="token-tag"> </span><span class="token-attr-name">onSubmit</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-script">submit</span><span class="token-punctuation">}</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">  </span><span class="token-punctuation">&lt;</span><span class="token-class-name">MyInput</span><span class="token-tag"> </span><span class="token-attr-name">name</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">email</span><span class="token-punctuation">&quot;</span><span class="token-tag"> </span><span class="token-attr-name">validations</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">isEmail</span><span class="token-punctuation">&quot;</span><span class="token-tag"> </span><span class="token-attr-name">validationError</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">This is not a valid email</span><span class="token-punctuation">&quot;</span><span class="token-tag"> </span><span class="token-attr-name">required</span><span class="token-tag"> </span><span class="token-punctuation">/&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">  </span><span class="token-punctuation">&lt;</span><span class="token-tag">button</span><span class="token-tag"> </span><span class="token-attr-name">type</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">submit</span><span class="token-punctuation">&quot;</span><span class="token-punctuation">&gt;</span><span class="token-plain">Submit</span><span class="token-punctuation">&lt;/</span><span class="token-tag">button</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-punctuation">&lt;/</span><span class="token-class-name">Formsy</span><span class="token-punctuation">&gt;</span></div></div><div></div></code></pre><style data-emotion-css="zefjkx">.css-zefjkx{position:absolute;top:0;width:100%;margin:0;padding:1em 0;text-align:center;background-color:#fff;color:#000;}</style><h4 class="cs-title css-zefjkx" style="opacity:1"><span style="opacity:1">context pattern: provider</span></h4></div></div></div></div></div><div class="css-137he8i"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-cb1xcl" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-lg3ou2" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// Formsy.ts</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-class-name">Formsy</span><span class="token-plain"> </span><span class="token-keyword">extends</span><span class="token-plain"> </span><span class="token-class-name">React</span><span class="token-punctuation">.</span><span class="token-class-name">Component</span><span class="token-operator">&lt;</span><span class="token-plain">FormsyProps</span><span class="token-punctuation">,</span><span class="token-plain"> FormsyState</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-comment">// ...</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    </span><span class="token-function">render</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">        </span><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> contextValue </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">state</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">        </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">            </span><span class="token-punctuation">&lt;</span><span class="token-class-name">FormsyContext.Provider</span><span class="token-tag"> </span><span class="token-attr-name">value</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">contextValue</span><span class="token-punctuation">}</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">                </span><span class="token-punctuation">&lt;</span><span class="token-tag">form</span><span class="token-tag"> </span><span class="token-attr-name">onReset</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-operator">...</span><span class="token-punctuation">}</span><span class="token-tag"> </span><span class="token-attr-name">onSubmit</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-operator">...</span><span class="token-punctuation">}</span><span class="token-tag"> </span><span class="token-punctuation">{</span><span class="token-punctuation">...</span><span class="token-attr-value">nonFormsyProps</span><span class="token-punctuation">}</span><span class="token-tag"> </span><span class="token-attr-name">disabled</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-boolean">false</span><span class="token-punctuation">}</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">                    </span><span class="token-punctuation">{</span><span class="token-plain">children</span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">                </span><span class="token-punctuation">&lt;/</span><span class="token-tag">form</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">            </span><span class="token-punctuation">&lt;/</span><span class="token-class-name">FormsyContext.Provider</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">        </span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-137he8i"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-cb1xcl" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-lg3ou2" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// FormsyContext.ts</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">// ...</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-keyword">const</span><span class="token-plain"> defaultValue </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">  attachToForm</span><span class="token-punctuation">:</span><span class="token-plain"> throwNoFormsyProvider</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">  detachFromForm</span><span class="token-punctuation">:</span><span class="token-plain"> throwNoFormsyProvider</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">  isFormDisabled</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">  isValidValue</span><span class="token-punctuation">:</span><span class="token-plain"> throwNoFormsyProvider</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">  validate</span><span class="token-punctuation">:</span><span class="token-plain"> throwNoFormsyProvider</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">  runValidation</span><span class="token-punctuation">:</span><span class="token-plain"> throwNoFormsyProvider</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">default</span><span class="token-plain"> React</span><span class="token-punctuation">.</span><span class="token-plain">createContext</span><span class="token-punctuation">&lt;</span><span class="token-class-name">FormsyContextInterface</span><span class="token-punctuation">&gt;</span><span class="token-punctuation">(</span><span class="token-plain">defaultValue</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-137he8i"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-cb1xcl" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-lg3ou2" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// withFormsy.tsx</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">default</span><span class="token-plain"> </span><span class="token-keyword">function</span><span class="token-plain"> </span><span class="token-function">withFormsy</span><span class="token-punctuation">(</span><span class="token-parameter">WrappedComponent</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">  </span><span class="token-comment">// ...</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">  </span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-class-name">WithFormsyWrapper</span><span class="token-plain"> </span><span class="token-keyword">extends</span><span class="token-plain"> </span><span class="token-class-name">React</span><span class="token-punctuation">.</span><span class="token-class-name">Component</span><span class="token-operator">&lt;</span><span class="token-constant">T</span><span class="token-plain"> </span><span class="token-operator">&amp;</span><span class="token-plain"> WrapperProps</span><span class="token-punctuation">&lt;</span><span class="token-class-name">V</span><span class="token-punctuation">&gt;</span><span class="token-plain"> </span><span class="token-operator">&amp;</span><span class="token-plain"> FormsyContextInterface</span><span class="token-punctuation">,</span><span class="token-plain"> WrapperState</span><span class="token-punctuation">&lt;</span><span class="token-class-name">V</span><span class="token-punctuation">&gt;</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">    </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">      </span><span class="token-punctuation">&lt;</span><span class="token-class-name">WrappedComponent</span><span class="token-tag"> </span><span class="token-punctuation">{</span><span class="token-punctuation">...</span><span class="token-attr-value">propsForElement</span><span class="token-punctuation">}</span><span class="token-tag"> </span><span class="token-punctuation">/&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">    </span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">  </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">  </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-parameter">props</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">    React</span><span class="token-punctuation">.</span><span class="token-function">createElement</span><span class="token-punctuation">(</span><span class="token-plain">FormsyContext</span><span class="token-punctuation">.</span><span class="token-plain">Consumer</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-parameter">contextValue</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">      </span><span class="token-keyword">return</span><span class="token-plain"> React</span><span class="token-punctuation">.</span><span class="token-function">createElement</span><span class="token-punctuation">(</span><span class="token-plain">WithFormsyWrapper</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-operator">...</span><span class="token-plain">props</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-operator">...</span><span class="token-plain">contextValue </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-137he8i"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-cb1xcl" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-lg3ou2" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// withFormsy.tsx</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">default</span><span class="token-plain"> </span><span class="token-keyword">function</span><span class="token-plain"> </span><span class="token-function">withFormsy</span><span class="token-punctuation">(</span><span class="token-parameter">WrappedComponent</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">  </span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-class-name">WithFormsyWrapper</span><span class="token-plain"> </span><span class="token-keyword">extends</span><span class="token-plain"> </span><span class="token-class-name">React</span><span class="token-punctuation">.</span><span class="token-class-name">Component</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    </span><span class="token-keyword">public</span><span class="token-plain"> </span><span class="token-function">constructor</span><span class="token-punctuation">(</span><span class="token-parameter">props</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">      </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">state </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">        value</span><span class="token-punctuation">:</span><span class="token-plain"> props</span><span class="token-punctuation">.</span><span class="token-plain">value</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">        </span><span class="token-operator">...</span><span class="token-function">runValidation</span><span class="token-punctuation">(</span><span class="token-keyword">this</span><span class="token-punctuation">,</span><span class="token-plain"> props</span><span class="token-punctuation">.</span><span class="token-plain">value</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">      </span><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">    </span><span class="token-keyword">public</span><span class="token-plain"> getValue </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-constant">V</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">state</span><span class="token-punctuation">.</span><span class="token-plain">value</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">    </span><span class="token-keyword">public</span><span class="token-plain"> setValue </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">value</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-constant">V</span><span class="token-punctuation">,</span><span class="token-plain"> validate </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">)</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-keyword">void</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">      </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-function">setState</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span><span class="token-plain"> value </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">    </span><span class="token-keyword">public</span><span class="token-plain"> </span><span class="token-function">render</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">      </span><span class="token-keyword">const</span><span class="token-plain"> propsForElement</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-constant">T</span><span class="token-plain"> </span><span class="token-operator">&amp;</span><span class="token-plain"> PassDownProps</span><span class="token-punctuation">&lt;</span><span class="token-class-name">V</span><span class="token-punctuation">&gt;</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">        </span><span class="token-operator">...</span><span class="token-plain">this</span><span class="token-punctuation">.</span><span class="token-plain">props</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">        errorMessage</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-function">getErrorMessage</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">        setValue</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">setValue</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">        value</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-function">getValue</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-plain">      </span><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-plain">      </span><span class="token-keyword">return</span><span class="token-plain"> React</span><span class="token-punctuation">.</span><span class="token-function">createElement</span><span class="token-punctuation">(</span><span class="token-plain">WrappedComponent</span><span class="token-punctuation">,</span><span class="token-plain"> propsForElement</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-plain">  </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">  </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-parameter">props</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-plain">    React</span><span class="token-punctuation">.</span><span class="token-function">createElement</span><span class="token-punctuation">(</span><span class="token-plain">FormsyContext</span><span class="token-punctuation">.</span><span class="token-plain">Consumer</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-parameter">contextValue</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-plain">      </span><span class="token-keyword">return</span><span class="token-plain"> React</span><span class="token-punctuation">.</span><span class="token-function">createElement</span><span class="token-punctuation">(</span><span class="token-plain">WithFormsyWrapper</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-operator">...</span><span class="token-plain">props</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-operator">...</span><span class="token-plain">contextValue </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-punctuation">}</span></div></div><div></div></code></pre><h4 class="cs-title css-zefjkx" style="opacity:1"><span style="opacity:1">save state in the wapper component</span></h4></div></div></div></div></div><div class="css-137he8i"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-cb1xcl" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-lg3ou2" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// withFormsy.tsx</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">default</span><span class="token-plain"> </span><span class="token-keyword">function</span><span class="token-plain"> </span><span class="token-function">withFormsy</span><span class="token-punctuation">(</span><span class="token-parameter">WrappedComponent</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-comment">// ...</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    </span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-class-name">WithFormsyWrapper</span><span class="token-plain"> </span><span class="token-keyword">extends</span><span class="token-plain"> </span><span class="token-class-name">React</span><span class="token-punctuation">.</span><span class="token-class-name">Component</span><span class="token-operator">&lt;</span><span class="token-constant">T</span><span class="token-plain"> </span><span class="token-operator">&amp;</span><span class="token-plain"> WrapperProps</span><span class="token-punctuation">&lt;</span><span class="token-class-name">V</span><span class="token-punctuation">&gt;</span><span class="token-plain"> </span><span class="token-operator">&amp;</span><span class="token-plain"> FormsyContextInterface</span><span class="token-punctuation">,</span><span class="token-plain"> WrapperState</span><span class="token-punctuation">&lt;</span><span class="token-class-name">V</span><span class="token-punctuation">&gt;</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">      </span><span class="token-keyword">public</span><span class="token-plain"> </span><span class="token-function">componentDidMount</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">props</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">            </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">Error</span><span class="token-punctuation">(</span><span class="token-string">&#x27;Form Input requires a name property when used&#x27;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">        </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">prpos</span><span class="token-punctuation">.</span><span class="token-function">attachToForm</span><span class="token-punctuation">(</span><span class="token-keyword">this</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">    </span><span class="token-keyword">public</span><span class="token-plain"> </span><span class="token-function">componentWillUnmount</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">      </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">props</span><span class="token-punctuation">.</span><span class="token-function">detachFromForm</span><span class="token-punctuation">(</span><span class="token-keyword">this</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">  </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">  </span><span class="token-comment">// ...</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">  </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-parameter">props</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">    React</span><span class="token-punctuation">.</span><span class="token-function">createElement</span><span class="token-punctuation">(</span><span class="token-plain">FormsyContext</span><span class="token-punctuation">.</span><span class="token-plain">Consumer</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-parameter">contextValue</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">      </span><span class="token-keyword">return</span><span class="token-plain"> React</span><span class="token-punctuation">.</span><span class="token-function">createElement</span><span class="token-punctuation">(</span><span class="token-plain">WithFormsyWrapper</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-operator">...</span><span class="token-plain">props</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-operator">...</span><span class="token-plain">contextValue </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-punctuation">}</span></div></div><div></div></code></pre><h4 class="cs-title css-zefjkx" style="opacity:1"><span style="opacity:1">save all components into global state</span></h4></div></div></div></div></div><div class="css-137he8i"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-cb1xcl" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-lg3ou2" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// Formsy.ts</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-class-name">Formsy</span><span class="token-plain"> </span><span class="token-keyword">extends</span><span class="token-plain"> </span><span class="token-class-name">React</span><span class="token-punctuation">.</span><span class="token-class-name">Component</span><span class="token-operator">&lt;</span><span class="token-plain">FormsyProps</span><span class="token-punctuation">,</span><span class="token-plain"> FormsyState</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">  </span><span class="token-function-variable">attachToForm</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-parameter">component</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">inputs</span><span class="token-punctuation">.</span><span class="token-function">indexOf</span><span class="token-punctuation">(</span><span class="token-plain">component</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">===</span><span class="token-plain"> </span><span class="token-operator">-</span><span class="token-number">1</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">      </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">inputs</span><span class="token-punctuation">.</span><span class="token-function">push</span><span class="token-punctuation">(</span><span class="token-plain">component</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">    </span><span class="token-comment">// ...</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-137he8i"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-cb1xcl" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-lg3ou2" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// Formsy.ts</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-class-name">Formsy</span><span class="token-plain"> </span><span class="token-keyword">extends</span><span class="token-plain"> </span><span class="token-class-name">React</span><span class="token-punctuation">.</span><span class="token-class-name">Component</span><span class="token-operator">&lt;</span><span class="token-plain">FormsyProps</span><span class="token-punctuation">,</span><span class="token-plain"> FormsyState</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">  </span><span class="token-function-variable">submit</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-parameter">event</span><span class="token-operator">?</span><span class="token-punctuation">:</span><span class="token-parameter"> React</span><span class="token-punctuation">.</span><span class="token-parameter">SyntheticEvent</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    </span><span class="token-comment">// ...</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">    </span><span class="token-keyword">const</span><span class="token-plain"> model </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-function">getModel</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">    </span><span class="token-function">onSubmit</span><span class="token-punctuation">(</span><span class="token-plain">model</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">resetModel</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">updateInputsWithError</span><span class="token-punctuation">,</span><span class="token-plain"> event</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">    </span><span class="token-comment">// ...</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">  </span><span class="token-function-variable">getModel</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">    </span><span class="token-keyword">const</span><span class="token-plain"> currentValues </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-function">getCurrentValues</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">    </span><span class="token-comment">// https://github.com/formsy/formsy-react/blob/master/API.md#mapping</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">    </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-function">mapModel</span><span class="token-punctuation">(</span><span class="token-plain">currentValues</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">  </span><span class="token-function-variable">getCurrentValues</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">    </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">inputs</span><span class="token-punctuation">.</span><span class="token-function">reduce</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-parameter">valueAccumulator</span><span class="token-punctuation">,</span><span class="token-parameter"> component</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">      </span><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">        props</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> name </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">        state</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> value </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">      </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> component</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">      </span><span class="token-comment">// eslint-disable-next-line no-param-reassign</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-plain">      valueAccumulator</span><span class="token-punctuation">[</span><span class="token-plain">name</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> utils</span><span class="token-punctuation">.</span><span class="token-function">protectAgainstParamReassignment</span><span class="token-punctuation">(</span><span class="token-plain">value</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">      </span><span class="token-keyword">return</span><span class="token-plain"> valueAccumulator</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-punctuation">}</span></div></div><div></div></code></pre><h4 class="cs-title css-zefjkx" style="opacity:1"><span style="opacity:1">get model from attached component when form submitted</span></h4></div></div></div></div></div><div class="css-137he8i"><h2 class="css-x6kkz0">Problems</h2></div><div class="css-137he8i"><h3 class="css-x6kkz0">Formsy</h3><ul class="css-1l6m1m6"><li class="css-0">states &lt;- n - n -&gt;  views</li><li class="css-0">class components might be deprecated</li></ul><h3 class="css-x6kkz0">HOC</h3><ul class="css-1l6m1m6"><li class="css-0">two HOC could be using the same prop</li><li class="css-0">a deeply nested tree making it difficult to debug</li><li class="css-0">to hoist static methods</li></ul></div><div class="css-137he8i"><h2 class="css-x6kkz0">Formik: render props</h2></div><div class="css-137he8i"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-cb1xcl" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-lg3ou2" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-function-variable">BasicExample</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">  </span><span class="token-punctuation">&lt;</span><span class="token-class-name">Formik</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-tag">    </span><span class="token-attr-name">initialValues</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-punctuation">{</span><span class="token-script"> name</span><span class="token-punctuation">:</span><span class="token-script"> </span><span class="token-string">&#x27;jared&#x27;</span><span class="token-script"> </span><span class="token-punctuation">}</span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-tag">    </span><span class="token-attr-name">onSubmit</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-punctuation">(</span><span class="token-parameter">values</span><span class="token-punctuation">,</span><span class="token-parameter"> actions</span><span class="token-punctuation">)</span><span class="token-script"> </span><span class="token-operator">=&gt;</span><span class="token-script"> </span><span class="token-punctuation">{</span><span class="token-script"> actions</span><span class="token-punctuation">.</span><span class="token-function">setSubmitting</span><span class="token-punctuation">(</span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-script"> </span><span class="token-punctuation">}</span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-tag">  </span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">    </span><span class="token-punctuation">{</span><span class="token-parameter">props</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">      </span><span class="token-punctuation">&lt;</span><span class="token-tag">form</span><span class="token-tag"> </span><span class="token-attr-name">onSubmit</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">props</span><span class="token-punctuation">.</span><span class="token-script">handleSubmit</span><span class="token-punctuation">}</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">        </span><span class="token-punctuation">&lt;</span><span class="token-tag">input</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-tag">          </span><span class="token-attr-name">type</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">text</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-tag">          </span><span class="token-attr-name">onChange</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">props</span><span class="token-punctuation">.</span><span class="token-script">handleChange</span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-tag">          </span><span class="token-attr-name">onBlur</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">props</span><span class="token-punctuation">.</span><span class="token-script">handleBlur</span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-tag">          </span><span class="token-attr-name">value</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">props</span><span class="token-punctuation">.</span><span class="token-script">values</span><span class="token-punctuation">.</span><span class="token-script">name</span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-tag">          </span><span class="token-attr-name">name</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">name</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-tag">        </span><span class="token-punctuation">/&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">        </span><span class="token-punctuation">{</span><span class="token-plain">props</span><span class="token-punctuation">.</span><span class="token-plain">errors</span><span class="token-punctuation">.</span><span class="token-plain">name </span><span class="token-operator">&amp;&amp;</span><span class="token-plain"> </span><span class="token-punctuation">&lt;</span><span class="token-tag">div</span><span class="token-tag"> </span><span class="token-attr-name">id</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">feedback</span><span class="token-punctuation">&quot;</span><span class="token-punctuation">&gt;</span><span class="token-punctuation">{</span><span class="token-plain">props</span><span class="token-punctuation">.</span><span class="token-plain">errors</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-punctuation">}</span><span class="token-punctuation">&lt;/</span><span class="token-tag">div</span><span class="token-punctuation">&gt;</span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">        </span><span class="token-punctuation">&lt;</span><span class="token-tag">button</span><span class="token-tag"> </span><span class="token-attr-name">type</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">submit</span><span class="token-punctuation">&quot;</span><span class="token-punctuation">&gt;</span><span class="token-plain">Submit</span><span class="token-punctuation">&lt;/</span><span class="token-tag">button</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">      </span><span class="token-punctuation">&lt;/</span><span class="token-tag">form</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">    </span><span class="token-punctuation">)</span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">  </span><span class="token-punctuation">&lt;/</span><span class="token-class-name">Formik</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><h4 class="cs-title css-zefjkx" style="opacity:1"><span style="opacity:1">BasicExample</span></h4></div></div></div></div></div><div class="css-137he8i"><h2 class="css-x6kkz0">how formik set/get value</h2></div><div class="css-137he8i"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-cb1xcl" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-lg3ou2" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// formik.tsx</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">​</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">    React</span><span class="token-punctuation">.</span><span class="token-plain">Reducer</span><span class="token-operator">&lt;</span><span class="token-plain">FormikState</span><span class="token-punctuation">&lt;</span><span class="token-class-name">Values</span><span class="token-punctuation">&gt;</span><span class="token-punctuation">,</span><span class="token-plain"> FormikMessage</span><span class="token-punctuation">&lt;</span><span class="token-class-name">Values</span><span class="token-punctuation">&gt;</span><span class="token-operator">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">function</span><span class="token-plain"> </span><span class="token-function">Formik</span><span class="token-punctuation">(</span><span class="token-parameter">props</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> formikbag </span><span class="token-operator">=</span><span class="token-plain"> useFormik</span><span class="token-punctuation">&lt;</span><span class="token-class-name">Values</span><span class="token-punctuation">&gt;</span><span class="token-punctuation">(</span><span class="token-plain">props</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> component</span><span class="token-punctuation">,</span><span class="token-plain"> children</span><span class="token-punctuation">,</span><span class="token-plain"> render</span><span class="token-punctuation">,</span><span class="token-plain"> innerRef </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> props</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-40"><span class="token-plain">  </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-41"><span class="token-plain">    </span><span class="token-punctuation">&lt;</span><span class="token-class-name">FormikProvider</span><span class="token-tag"> </span><span class="token-attr-name">value</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">formikbag</span><span class="token-punctuation">}</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-42"><span class="token-plain">      </span><span class="token-punctuation">{</span><span class="token-plain">component</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-43"><span class="token-plain">        </span><span class="token-operator">?</span><span class="token-plain"> React</span><span class="token-punctuation">.</span><span class="token-function">createElement</span><span class="token-punctuation">(</span><span class="token-plain">component </span><span class="token-keyword">as</span><span class="token-plain"> any</span><span class="token-punctuation">,</span><span class="token-plain"> formikbag</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-44"><span class="token-plain">        </span><span class="token-punctuation">:</span><span class="token-plain"> render</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-plain">        </span><span class="token-operator">?</span><span class="token-plain"> </span><span class="token-function">render</span><span class="token-punctuation">(</span><span class="token-plain">formikbag</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-46"><span class="token-plain">        </span><span class="token-punctuation">:</span><span class="token-plain"> children </span><span class="token-comment">// children come last, always called</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-47"><span class="token-plain">        </span><span class="token-operator">?</span><span class="token-plain"> </span><span class="token-function">isFunction</span><span class="token-punctuation">(</span><span class="token-plain">children</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-48"><span class="token-plain">          </span><span class="token-operator">?</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">children </span><span class="token-keyword">as</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">bag</span><span class="token-punctuation">:</span><span class="token-plain"> FormikProps</span><span class="token-punctuation">&lt;</span><span class="token-class-name">Values</span><span class="token-punctuation">&gt;</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> React</span><span class="token-punctuation">.</span><span class="token-plain">ReactNode</span><span class="token-punctuation">)</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-49"><span class="token-plain">              formikbag </span><span class="token-keyword">as</span><span class="token-plain"> FormikProps</span><span class="token-punctuation">&lt;</span><span class="token-class-name">Values</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-50"><span class="token-plain">            </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-51"><span class="token-plain">          </span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-operator">!</span><span class="token-function">isEmptyChildren</span><span class="token-punctuation">(</span><span class="token-plain">children</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-52"><span class="token-plain">          </span><span class="token-operator">?</span><span class="token-plain"> React</span><span class="token-punctuation">.</span><span class="token-plain">Children</span><span class="token-punctuation">.</span><span class="token-function">only</span><span class="token-punctuation">(</span><span class="token-plain">children</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-53"><span class="token-plain">          </span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-keyword">null</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-54"><span class="token-plain">        </span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-55"><span class="token-plain">    </span><span class="token-punctuation">&lt;/</span><span class="token-class-name">FormikProvider</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-56"><span class="token-plain">  </span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-57"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-cb1xcl" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-lg3ou2" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">    React</span><span class="token-punctuation">.</span><span class="token-plain">Reducer</span><span class="token-operator">&lt;</span><span class="token-plain">FormikState</span><span class="token-punctuation">&lt;</span><span class="token-class-name">Values</span><span class="token-punctuation">&gt;</span><span class="token-punctuation">,</span><span class="token-plain"> FormikMessage</span><span class="token-punctuation">&lt;</span><span class="token-class-name">Values</span><span class="token-punctuation">&gt;</span><span class="token-operator">&gt;</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-137he8i"><h2 class="css-x6kkz0">Render props</h2><h3 class="css-x6kkz0">Good</h3><ul class="css-1l6m1m6"><li class="css-0">The lowest level of indirection<ul class="css-1l6m1m6"><li class="css-0">it’s clear which component is called and the state is isolated</li></ul></li><li class="css-0">No naming collision issues for props, state and class methods</li></ul></div><div class="css-137he8i"><h2 class="css-x6kkz0">Render props</h2><h3 class="css-x6kkz0">Bad</h3><ul class="css-1l6m1m6"><li class="css-0">callback hell</li><li class="css-0">caution using shouldComponentUpdate<ul class="css-1l6m1m6"><li class="css-0">the render prop might close over data it is unaware of</li></ul></li></ul></div><div class="css-137he8i"><h2 class="css-x6kkz0">Formik: hook</h2></div><div class="css-137he8i"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-cb1xcl" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-lg3ou2" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-function-variable">SignupForm</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> formik </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">useFormik</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    initialValues</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">      firstName</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&quot;&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">      lastName</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&quot;&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">      email</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&quot;&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">    </span><span class="token-function-variable">onSubmit</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-parameter">values</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">      </span><span class="token-function">alert</span><span class="token-punctuation">(</span><span class="token-constant">JSON</span><span class="token-punctuation">.</span><span class="token-function">stringify</span><span class="token-punctuation">(</span><span class="token-plain">values</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">2</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">  </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">    </span><span class="token-punctuation">&lt;</span><span class="token-tag">form</span><span class="token-tag"> </span><span class="token-attr-name">onSubmit</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">formik</span><span class="token-punctuation">.</span><span class="token-script">handleSubmit</span><span class="token-punctuation">}</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">      </span><span class="token-punctuation">&lt;</span><span class="token-tag">input</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-tag">        </span><span class="token-attr-name">id</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">email</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-tag">        </span><span class="token-attr-name">name</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">email</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-tag">        </span><span class="token-attr-name">type</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">email</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-tag">        </span><span class="token-attr-name">onChange</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">formik</span><span class="token-punctuation">.</span><span class="token-script">handleChange</span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-tag">        </span><span class="token-attr-name">value</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">formik</span><span class="token-punctuation">.</span><span class="token-script">values</span><span class="token-punctuation">.</span><span class="token-script">email</span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-tag">      </span><span class="token-punctuation">/&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">      </span><span class="token-punctuation">&lt;</span><span class="token-tag">button</span><span class="token-tag"> </span><span class="token-attr-name">type</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">submit</span><span class="token-punctuation">&quot;</span><span class="token-punctuation">&gt;</span><span class="token-plain">Submit</span><span class="token-punctuation">&lt;/</span><span class="token-tag">button</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-plain">    </span><span class="token-punctuation">&lt;/</span><span class="token-tag">form</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">  </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-137he8i"><h2 class="css-x6kkz0">Hooks</h2><h3 class="css-x6kkz0">Good</h3><ul class="css-1l6m1m6"><li class="css-0">easy to read</li></ul></div><div class="css-137he8i"><h2 class="css-x6kkz0">Hooks</h2><h3 class="css-x6kkz0">Bad</h3><ul class="css-1l6m1m6"><li class="css-0">functional component only</li><li class="css-0">hard to write test cases</li></ul></div><div class="css-137he8i"><h2 class="css-x6kkz0">Adaptation between different patterns</h2><h3 class="css-x6kkz0">hook &lt;-&gt; render props &lt;-&gt; HOC</h3></div><div class="css-137he8i"><p class="css-0">Thank You!</p></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/print";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-effd73b44186fe897d74.js"],"app":["/app-77466015685afe85bf1c.js"],"component---node-modules-gatsby-theme-mdx-deck-src-templates-deck-js":["/component---node-modules-gatsby-theme-mdx-deck-src-templates-deck-js-d0297c119022a57813fd.js"]};/*]]>*/</script><script src="/sharing-2020-12-23-building-form-in-react/polyfill-effd73b44186fe897d74.js" nomodule=""></script><script src="/sharing-2020-12-23-building-form-in-react/component---node-modules-gatsby-theme-mdx-deck-src-templates-deck-js-d0297c119022a57813fd.js" async=""></script><script src="/sharing-2020-12-23-building-form-in-react/app-77466015685afe85bf1c.js" async=""></script><script src="/sharing-2020-12-23-building-form-in-react/framework-4c5c30547127aacc30ed.js" async=""></script><script src="/sharing-2020-12-23-building-form-in-react/webpack-runtime-79cdd34c6f3b0d87e9ce.js" async=""></script></body></html>